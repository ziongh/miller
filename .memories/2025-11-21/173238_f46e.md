---
git:
  branch: main
  commit: ef8879c
  dirty: true
  files_changed:
  - .claude/settings.local.json
  - python/miller/server.py
  - python/miller/storage.py
  - python/tests/test_server.py
  - .memories/2025-11-21/150145_0d38.json
  - .memories/2025-11-21/150937_99ce.json
  - python/miller/tools/explore.py
  - python/tests/test_types_mode.py
id: decision_bce488c8_cf292d
tags:
- fastmcp
- mcp
- output-schema
- code-format
- rendering
timestamp: 1763767958
type: decision
---

Fixed get_symbols output_format='code' rendering. Root cause: FastMCP auto-generates output_schema from return types, wrapping non-object results in {"result": ...}. Fix: Set output_schema=None on tool registration to disable structured content, letting strings return as raw TextContent which Claude Code renders properly.
