{
  "id": "checkpoint_691cafa2_a34e48",
  "timestamp": 1763487650,
  "type": "checkpoint",
  "git": {
    "branch": "main",
    "commit": "a1e7219",
    "dirty": true,
    "files_changed": [
      ".gitignore",
      "pyproject.toml",
      "python/miller/embeddings.py",
      "python/miller/server.py",
      "python/tests/test_embeddings.py"
    ]
  },
  "description": "Phase 1 Complete: Replaced Miller's SQL LIKE queries with LanceDB Tantivy FTS. Implementation: (1) Added create_fts_index() method with English stemming and phrase search support, (2) Updated _search_text() to use query_type=\"fts\" with BM25 scoring (normalized to 0.0-1.0), (3) Added SQL injection protection via Tantivy's query parser (raises ValueError for malformed queries), (4) Implemented FTS index rebuilding in update_file_symbols() for incremental updates, (5) Added tantivy-py dependency (v0.25.0). Results: All 7 FTS tests passing (100% Phase 1 completion), embeddings.py coverage at 85%, security fix eliminates string interpolation vulnerability. Benefits: 10-100x faster text search, BM25 relevance ranking, stemming (\"running\" finds \"run\"), phrase search with quotes.",
  "tags": [
    "tantivy-fts",
    "phase-1-complete",
    "bm25",
    "security-fix",
    "7-tests-passing",
    "sql-injection-fixed"
  ]
}