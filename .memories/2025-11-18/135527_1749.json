{
  "id": "checkpoint_691c7acf_959273",
  "timestamp": 1763474127,
  "type": "checkpoint",
  "git": {
    "branch": "main",
    "commit": "eb88ab8",
    "dirty": true,
    "files_changed": [
      "pyproject.toml",
      "python/miller/embeddings.py",
      "python/miller/server.py",
      "python/miller/storage.py",
      "python/tests/test_server.py",
      "python/tests/test_storage.py"
    ]
  },
  "description": "Fixed LanceDB PyArrow cast errors: Root cause was schema inference creating non-nullable string columns. When first symbol had signature=\"def foo()\", LanceDB inferred non-nullable string. Later symbols with signature=None caused \"Unsupported cast from string to null\" errors. Solution: (1) Added explicit PyArrow schema with nullable=True for optional fields (signature, doc_comment, start_line, end_line), (2) Use pa.Table.from_pylist() with schema when creating table, (3) Added table loading in __init__ to reuse existing table on restart. Schema defines 10 fields including 384-dim vector embeddings. Cleaned old LanceDB database. Ready for testing - should index all ~300 files without cast errors.",
  "tags": [
    "lancedb",
    "pyarrow",
    "schema-fix",
    "nullable-fields",
    "vector-store"
  ]
}