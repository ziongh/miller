---
git:
  branch: main
  commit: eccd082
  dirty: true
  files_changed:
  - .claude/settings.local.json
  - Cargo.toml
  - TODO.md
  - python/miller/ignore_patterns.py
  - python/miller/server.py
  - python/miller/storage.py
  - python/miller/tools/explore.py
  - python/miller/tools/explore_wrapper.py
  - python/miller/tools/workspace/__init__.py
  - python/miller/tools/workspace/indexing.py
  - python/miller/tools/workspace/stats.py
  - python/miller/workspace/hash_tracking.py
  - python/miller/workspace/index_stats.py
  - python/miller/workspace/indexer.py
  - python/miller/workspace/scanner.py
  - python/tests/test_manage_workspace.py
  - python/tests/test_manage_workspace_health.py
  - python/tests/test_server.py
  - python/tests/test_workspace.py
  - src/bindings/api.rs
  - src/bindings/mod.rs
  - src/lib.rs
  - .memories/2025-11-23/084315_5b5b.json
  - .memories/2025-11-23/101437_cee2.json
  - .memories/2025-11-23/110011_1c74.json
  - .memories/2025-11-23/110551_9fed.json
  - .memories/2025-11-23/121207_1e93.json
  - docs/PORT_PLAN.md
  - python/tests/test_explore_dependencies.py
  - python/tests/test_explore_similar.py
id: checkpoint_2d9838e5_c6fcac
tags:
- bug-fix
- workspace-paths
- atomic-update
- indexing
timestamp: 1763922185
type: checkpoint
---

Fixed three indexing bugs: 1) Changed INSERT to INSERT OR REPLACE in atomic update to handle edge cases, 2) Fixed server.py to use per-workspace database paths (get_workspace_db_path/get_workspace_vector_path) instead of hardcoded flat paths, 3) Updated file watcher to use load_all_ignores. All 630 tests pass.
