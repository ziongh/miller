{
  "content": "## Goal\nAddress all issues found in the Miller deep review comparing with Julie.\n\n## Bugs (Tier 1 - Fix Now) \u2705 COMPLETE\n\n- [x] Fix `test_checkpoint_captures_git_context` - patch `miller.tools.checkpoint.get_git_context` not `miller.memory_utils.get_git_context`\n- [x] Add `__del__` safety net to `StorageManager` for unclosed connections\n- [x] Add `__del__` safety net to `VectorStore` for unclosed connections\n- [x] Add backwards-compatible `_search_pattern`, `_search_text`, `_search_semantic`, `_search_hybrid` methods to VectorStore\n\n## File Size Refactoring (Tier 2 - COMPLETE) \u2705\n\n- [x] Split `storage.py` (830\u21925 modules: schema 191, queries 312, mutations 408, manager 235, __init__ 15)\n- [x] Split `vector_store.py` (831\u21924 modules: vector_store 378, fts_index 90, search_methods 278, search_enhancements 245)\n- [x] Split `ignore_patterns.py` (609\u2192422 + ignore_defaults.py 194)\n- [x] Split `scanner.py` (582\u2192500 + discovery.py 153)\n- [x] Split `server.py` (814\u2192142 + lifecycle.py 259 + tools_wrappers.py 461 + server_state.py 19)\n\n## Missing Features (Tier 3 - Port from Julie) \u2705 COMPLETE\n\n- [x] Add semantic fallback when text search returns 0 results\n- [x] Add `language` filter parameter to `fast_search`\n- [x] Add `file_pattern` (glob) filter parameter to `fast_search`\n\n## Test Coverage (Tier 4)\n\n- [ ] Improve `recall.py` coverage (currently 32%)\n- [ ] Improve `hash_tracking.py` coverage (currently 45%)\n- [ ] Improve `indexer.py` coverage (currently 46%)\n- [ ] Get overall coverage from 78.80% to 80%+\n\n## Results\n\n**706 tests passing!**\n**All files now under 500 lines!**\n**Coverage: 78.80% (close to 80% target)**\n**All Tier 1-3 tasks complete!**",
  "git": {
    "branch": "main",
    "commit": "a635220",
    "dirty": true,
    "files_changed": [
      ".memories/2025-11-24/120551_d6c7.json",
      ".memories/2025-11-24/135457_b696.json"
    ]
  },
  "id": "plan_miller-deep-review-fixes",
  "status": "pending",
  "timestamp": 1764014987,
  "title": "Miller Deep Review Fixes",
  "type": "plan"
}
